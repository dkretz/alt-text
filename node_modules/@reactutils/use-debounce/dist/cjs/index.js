"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var r=require("react");function n(n,e){var u=this,t=(e||{}).delay,c=r.useRef(null),i=r.useRef(0),a=r.useRef(null),f=r.useRef([]),o=r.useRef(),l=r.useRef(),s=r.useRef(n),v=r.useRef(!0);r.useEffect((function(){s.current=n}),[n]);var m=!t&&0!==t&&"undefined"!=typeof window;if("function"!=typeof n)throw new TypeError("Expected a function");t=t?+t:0;var d=!!(e=e||{}).leading,p=!("trailing"in e)||!!e.trailing,y="maxWait"in e,R=y?Math.max(e.maxWait?+e.maxWait:0,t):null;r.useEffect((function(){return v.current=!0,function(){v.current=!1}}),[]);var x=r.useMemo((function(){var r=function(r){var n=f.current,e=o.current;return f.current=o.current=null,i.current=r,l.current=s.current.apply(e,n)},n=function(r,n){m&&cancelAnimationFrame(a.current),a.current=m?requestAnimationFrame(r):setTimeout(r,n)},e=function(r){if(!v.current)return!1;var n=r-(c.current||0),e=r-i.current;return!c.current||n>=(null!=t?t:0)||n<0||y&&e>=R},x=function(n){return a.current=null,p&&f.current?r(n):(f.current=o.current=null,l.current)},w=function(){var r=Date.now();if(e(r))return x(r);if(v.current){var u=r-(c.current||0),a=r-i.current,f=null!=t?t:0-u,o=y?Math.min(f,R-a):f;n(w,o)}},h=function(){for(var s=[],m=0;m<arguments.length;m++)s[m]=arguments[m];var p=Date.now(),R=e(p);if(f.current=s,o.current=u,c.current=p,R){if(!a.current&&v.current)return i.current=c.current,n(w,null!=t?t:0),d?r(c.current):l.current;if(y)return n(w,null!=t?t:0),r(c.current)}return a.current||n(w,null!=t?t:0),l.current};return h.cancel=function(){a.current&&(m?cancelAnimationFrame(a.current):clearTimeout(a.current)),i.current=0,f.current=c.current=o.current=a.current=null},h.isPending=function(){return!!a.current},h.flush=function(){return a.current?x(Date.now()):l.current},h}),[d,y,t,R,p,m]);return x}function e(r,n){return r===n}function u(r){return"function"==typeof r?function(){return r}:r}exports.default=function(t,c){var i=c&&c.equalityFn||e,a=function(n){var e=r.useState(u(n)),t=e[0],c=e[1];return[t,r.useCallback((function(r){return c(u(r))}),[])]}(t),f=a[0],o=a[1],l=n(r.useCallback((function(r){return o(r)}),[o]),c),s=r.useRef(t);return i(s.current,t)||(l(t),s.current=t),[f,l]},exports.useDelayedFn=n;
